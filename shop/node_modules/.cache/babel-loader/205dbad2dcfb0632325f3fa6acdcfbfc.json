{"ast":null,"code":"var _jsxFileName = \"/var/www/html/check/javascript-shop/client.v1/src/components/CheckAuth.js\",\n    _s = $RefreshSig$();\n\nimport { AppContext } from './AppContext.js';\nimport { check } from '../http/userAPI.js';\nimport { useContext, useEffect, useState } from 'react';\nimport { Spinner } from 'react-bootstrap';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst CheckAuth = props => {\n  _s();\n\n  const {\n    user\n  } = useContext(AppContext);\n  const [checking, setChecking] = useState(true);\n  useEffect(() => {\n    check().then(data => {\n      if (data) {\n        user.login(data);\n      }\n    }).finally(() => setChecking(false));\n  }, []);\n\n  if (checking) {\n    return /*#__PURE__*/_jsxDEV(Spinner, {\n      animation: \"border\",\n      variant: \"light\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 23,\n      columnNumber: 16\n    }, this);\n  }\n\n  return props.children;\n};\n\n_s(CheckAuth, \"+0ufC1UZl999VyEJnrL6Cr/L4Ek=\");\n\n_c = CheckAuth;\nexport default CheckAuth;\n\nvar _c;\n\n$RefreshReg$(_c, \"CheckAuth\");","map":{"version":3,"sources":["/var/www/html/check/javascript-shop/client.v1/src/components/CheckAuth.js"],"names":["AppContext","check","useContext","useEffect","useState","Spinner","CheckAuth","props","user","checking","setChecking","then","data","login","finally","children"],"mappings":";;;AAAA,SAASA,UAAT,QAA2B,iBAA3B;AACA,SAASC,KAAT,QAAsB,oBAAtB;AACA,SAASC,UAAT,EAAqBC,SAArB,EAAgCC,QAAhC,QAAgD,OAAhD;AACA,SAASC,OAAT,QAAwB,iBAAxB;;;AAEA,MAAMC,SAAS,GAAIC,KAAD,IAAW;AAAA;;AACzB,QAAM;AAAEC,IAAAA;AAAF,MAAWN,UAAU,CAACF,UAAD,CAA3B;AACA,QAAM,CAACS,QAAD,EAAWC,WAAX,IAA0BN,QAAQ,CAAC,IAAD,CAAxC;AAEAD,EAAAA,SAAS,CAAC,MAAM;AACZF,IAAAA,KAAK,GACAU,IADL,CACUC,IAAI,IAAI;AACV,UAAIA,IAAJ,EAAU;AACNJ,QAAAA,IAAI,CAACK,KAAL,CAAWD,IAAX;AACH;AACJ,KALL,EAMKE,OANL,CAOQ,MAAMJ,WAAW,CAAC,KAAD,CAPzB;AASH,GAVQ,EAUN,EAVM,CAAT;;AAYA,MAAID,QAAJ,EAAc;AACV,wBAAO,QAAC,OAAD;AAAS,MAAA,SAAS,EAAC,QAAnB;AAA4B,MAAA,OAAO,EAAC;AAApC;AAAA;AAAA;AAAA;AAAA,YAAP;AACH;;AAED,SAAOF,KAAK,CAACQ,QAAb;AACH,CArBD;;GAAMT,S;;KAAAA,S;AAuBN,eAAeA,SAAf","sourcesContent":["import { AppContext } from './AppContext.js'\nimport { check } from '../http/userAPI.js'\nimport { useContext, useEffect, useState } from 'react'\nimport { Spinner } from 'react-bootstrap'\n\nconst CheckAuth = (props) => {\n    const { user } = useContext(AppContext)\n    const [checking, setChecking] = useState(true)\n    \n    useEffect(() => {\n        check()\n            .then(data => {\n                if (data) {\n                    user.login(data)\n                }\n            })\n            .finally(\n                () => setChecking(false)\n            )\n    }, [])\n\n    if (checking) {\n        return <Spinner animation=\"border\" variant=\"light\" />\n    }\n\n    return props.children\n}\n\nexport default CheckAuth"]},"metadata":{},"sourceType":"module"}