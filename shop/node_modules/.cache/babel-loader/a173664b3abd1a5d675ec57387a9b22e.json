{"ast":null,"code":"import{Row,Pagination}from'react-bootstrap';import ProductItem from'./ProductItem.js';import{useContext}from'react';import{AppContext}from'./AppContext.js';import{observer}from'mobx-react-lite';import{useNavigate,createSearchParams}from'react-router-dom';import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var ProductList=observer(function(){var _useContext=useContext(AppContext),catalog=_useContext.catalog;var navigate=useNavigate();var handleClick=function handleClick(page){catalog.page=page;// при каждом клике добавляем в историю браузера новый элемент\nvar params={};if(catalog.category)params.category=catalog.category;if(catalog.brand)params.brand=catalog.brand;if(catalog.page>1)params.page=catalog.page;navigate({pathname:'/',search:'?'+createSearchParams(params)});};var pages=[];var _loop=function _loop(page){pages.push(/*#__PURE__*/_jsx(Pagination.Item,{active:page===catalog.page,activeLabel:\"\",onClick:function onClick(){return handleClick(page);},children:page},page));};for(var page=1;page<=catalog.pages;page++){_loop(page);}return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Row,{className:\"mb-3\",children:catalog.products.length?catalog.products.map(function(item){return/*#__PURE__*/_jsx(ProductItem,{data:item},item.id);}):/*#__PURE__*/_jsx(\"p\",{className:\"m-3\",children:\"\\u041F\\u043E \\u0432\\u0430\\u0448\\u0435\\u043C\\u0443 \\u0437\\u0430\\u043F\\u0440\\u043E\\u0441\\u0443 \\u043D\\u0438\\u0447\\u0435\\u0433\\u043E \\u043D\\u0435 \\u043D\\u0430\\u0439\\u0434\\u0435\\u043D\\u043E\"})}),catalog.pages>1&&/*#__PURE__*/_jsx(Pagination,{children:pages})]});});export default ProductList;","map":{"version":3,"sources":["/var/www/html/check/javascript-shop/client.v1/src/components/ProductList.js"],"names":["Row","Pagination","ProductItem","useContext","AppContext","observer","useNavigate","createSearchParams","ProductList","catalog","navigate","handleClick","page","params","category","brand","pathname","search","pages","push","products","length","map","item","id"],"mappings":"AAAA,OAASA,GAAT,CAAcC,UAAd,KAAgC,iBAAhC,CACA,MAAOC,CAAAA,WAAP,KAAwB,kBAAxB,CACA,OAASC,UAAT,KAA2B,OAA3B,CACA,OAASC,UAAT,KAA2B,iBAA3B,CACA,OAASC,QAAT,KAAyB,iBAAzB,CACA,OAASC,WAAT,CAAsBC,kBAAtB,KAAgD,kBAAhD,C,6IAEA,GAAMC,CAAAA,WAAW,CAAGH,QAAQ,CAAC,UAAM,CAC/B,gBAAoBF,UAAU,CAACC,UAAD,CAA9B,CAAQK,OAAR,aAAQA,OAAR,CACA,GAAMC,CAAAA,QAAQ,CAAGJ,WAAW,EAA5B,CAEA,GAAMK,CAAAA,WAAW,CAAG,QAAdA,CAAAA,WAAc,CAACC,IAAD,CAAU,CAC1BH,OAAO,CAACG,IAAR,CAAeA,IAAf,CACA;AACA,GAAMC,CAAAA,MAAM,CAAG,EAAf,CACA,GAAIJ,OAAO,CAACK,QAAZ,CAAsBD,MAAM,CAACC,QAAP,CAAkBL,OAAO,CAACK,QAA1B,CACtB,GAAIL,OAAO,CAACM,KAAZ,CAAmBF,MAAM,CAACE,KAAP,CAAeN,OAAO,CAACM,KAAvB,CACnB,GAAIN,OAAO,CAACG,IAAR,CAAe,CAAnB,CAAsBC,MAAM,CAACD,IAAP,CAAcH,OAAO,CAACG,IAAtB,CACtBF,QAAQ,CAAC,CACLM,QAAQ,CAAE,GADL,CAELC,MAAM,CAAE,IAAMV,kBAAkB,CAACM,MAAD,CAF3B,CAAD,CAAR,CAIH,CAXD,CAaA,GAAMK,CAAAA,KAAK,CAAG,EAAd,CAjB+B,yBAkBtBN,IAlBsB,EAmB3BM,KAAK,CAACC,IAAN,cACI,KAAC,UAAD,CAAY,IAAZ,EAEI,MAAM,CAAEP,IAAI,GAAKH,OAAO,CAACG,IAF7B,CAGI,WAAW,CAAC,EAHhB,CAII,OAAO,CAAE,yBAAMD,CAAAA,WAAW,CAACC,IAAD,CAAjB,EAJb,UAMKA,IANL,EACSA,IADT,CADJ,EAnB2B,EAkB/B,IAAK,GAAIA,CAAAA,IAAI,CAAG,CAAhB,CAAmBA,IAAI,EAAIH,OAAO,CAACS,KAAnC,CAA0CN,IAAI,EAA9C,CAAkD,OAAzCA,IAAyC,EAWjD,CAED,mBACI,wCACI,KAAC,GAAD,EAAK,SAAS,CAAC,MAAf,UACKH,OAAO,CAACW,QAAR,CAAiBC,MAAjB,CACGZ,OAAO,CAACW,QAAR,CAAiBE,GAAjB,CAAqB,SAAAC,IAAI,qBACrB,KAAC,WAAD,EAA2B,IAAI,CAAEA,IAAjC,EAAkBA,IAAI,CAACC,EAAvB,CADqB,EAAzB,CADH,cAKG,UAAG,SAAS,CAAC,KAAb,uMANR,EADJ,CAUKf,OAAO,CAACS,KAAR,CAAgB,CAAhB,eAAqB,KAAC,UAAD,WAAaA,KAAb,EAV1B,GADJ,CAcH,CA7C2B,CAA5B,CA+CA,cAAeV,CAAAA,WAAf","sourcesContent":["import { Row, Pagination } from 'react-bootstrap'\nimport ProductItem from './ProductItem.js'\nimport { useContext } from 'react'\nimport { AppContext } from './AppContext.js'\nimport { observer } from 'mobx-react-lite'\nimport { useNavigate, createSearchParams } from 'react-router-dom'\n\nconst ProductList = observer(() => {\n    const { catalog } = useContext(AppContext)\n    const navigate = useNavigate()\n\n    const handleClick = (page) => {\n        catalog.page = page\n        // при каждом клике добавляем в историю браузера новый элемент\n        const params = {}\n        if (catalog.category) params.category = catalog.category\n        if (catalog.brand) params.brand = catalog.brand\n        if (catalog.page > 1) params.page = catalog.page\n        navigate({\n            pathname: '/',\n            search: '?' + createSearchParams(params),\n        })\n    }\n\n    const pages = []\n    for (let page = 1; page <= catalog.pages; page++) {\n        pages.push(\n            <Pagination.Item\n                key={page}\n                active={page === catalog.page}\n                activeLabel=\"\"\n                onClick={() => handleClick(page)}\n            >\n                {page}\n            </Pagination.Item>\n        )\n    }\n\n    return (\n        <>\n            <Row className=\"mb-3\">\n                {catalog.products.length ? (\n                    catalog.products.map(item =>\n                        <ProductItem key={item.id} data={item} />\n                    )\n                ) : (\n                    <p className=\"m-3\">По вашему запросу ничего не найдено</p>\n                )}\n            </Row>\n            {catalog.pages > 1 && <Pagination>{pages}</Pagination>}\n        </>\n    )\n})\n\nexport default ProductList"]},"metadata":{},"sourceType":"module"}