{"ast":null,"code":"var _jsxFileName = \"/var/www/html/check/javascript-shop/client.v1/src/components/FetchBasket.js\",\n    _s = $RefreshSig$();\n\nimport { AppContext } from './AppContext.js';\nimport { fetchBasket } from '../http/basketAPI.js';\nimport { useContext, useEffect, useState } from 'react';\nimport { Spinner } from 'react-bootstrap';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst FetchBasket = props => {\n  _s();\n\n  const {\n    basket\n  } = useContext(AppContext);\n  const [fetching, setFetching] = useState(true);\n  useEffect(() => {\n    fetchBasket().then(data => basket.products = data.products).finally(() => setFetching(false));\n  }, []);\n\n  if (fetching) {\n    return /*#__PURE__*/_jsxDEV(Spinner, {\n      animation: \"border\",\n      variant: \"light\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 21,\n      columnNumber: 16\n    }, this);\n  }\n\n  return props.children;\n};\n\n_s(FetchBasket, \"QjXjtkERf+QokhlbUSDg+OPKNT4=\");\n\n_c = FetchBasket;\nexport default FetchBasket;\n\nvar _c;\n\n$RefreshReg$(_c, \"FetchBasket\");","map":{"version":3,"sources":["/var/www/html/check/javascript-shop/client.v1/src/components/FetchBasket.js"],"names":["AppContext","fetchBasket","useContext","useEffect","useState","Spinner","FetchBasket","props","basket","fetching","setFetching","then","data","products","finally","children"],"mappings":";;;AAAA,SAASA,UAAT,QAA2B,iBAA3B;AACA,SAASC,WAAT,QAA4B,sBAA5B;AACA,SAASC,UAAT,EAAqBC,SAArB,EAAgCC,QAAhC,QAAgD,OAAhD;AACA,SAASC,OAAT,QAAwB,iBAAxB;;;AAEA,MAAMC,WAAW,GAAIC,KAAD,IAAW;AAAA;;AAC3B,QAAM;AAAEC,IAAAA;AAAF,MAAaN,UAAU,CAACF,UAAD,CAA7B;AACA,QAAM,CAACS,QAAD,EAAWC,WAAX,IAA0BN,QAAQ,CAAC,IAAD,CAAxC;AAEAD,EAAAA,SAAS,CAAC,MAAM;AACZF,IAAAA,WAAW,GACNU,IADL,CAEQC,IAAI,IAAIJ,MAAM,CAACK,QAAP,GAAkBD,IAAI,CAACC,QAFvC,EAIKC,OAJL,CAKQ,MAAMJ,WAAW,CAAC,KAAD,CALzB;AAOH,GARQ,EAQN,EARM,CAAT;;AAUA,MAAID,QAAJ,EAAc;AACV,wBAAO,QAAC,OAAD;AAAS,MAAA,SAAS,EAAC,QAAnB;AAA4B,MAAA,OAAO,EAAC;AAApC;AAAA;AAAA;AAAA;AAAA,YAAP;AACH;;AAED,SAAOF,KAAK,CAACQ,QAAb;AACH,CAnBD;;GAAMT,W;;KAAAA,W;AAqBN,eAAeA,WAAf","sourcesContent":["import { AppContext } from './AppContext.js'\nimport { fetchBasket } from '../http/basketAPI.js'\nimport { useContext, useEffect, useState } from 'react'\nimport { Spinner } from 'react-bootstrap'\n\nconst FetchBasket = (props) => {\n    const { basket } = useContext(AppContext)\n    const [fetching, setFetching] = useState(true)\n\n    useEffect(() => {\n        fetchBasket()\n            .then(\n                data => basket.products = data.products\n            )\n            .finally(\n                () => setFetching(false)\n            )\n    }, [])\n\n    if (fetching) {\n        return <Spinner animation=\"border\" variant=\"light\" />\n    }\n\n    return props.children\n}\n\nexport default FetchBasket"]},"metadata":{},"sourceType":"module"}