{"ast":null,"code":"import{ListGroup}from'react-bootstrap';import{useContext}from'react';import{AppContext}from'./AppContext.js';import{observer}from'mobx-react-lite';import{useNavigate,createSearchParams}from'react-router-dom';import{jsx as _jsx}from\"react/jsx-runtime\";var CategoryBar=observer(function(){var _useContext=useContext(AppContext),catalog=_useContext.catalog;var navigate=useNavigate();var handleClick=function handleClick(id){if(id===catalog.category){catalog.category=null;}else{catalog.category=id;}// при каждом клике добавляем в историю браузера новый элемент\nvar params={};if(catalog.category)params.category=catalog.category;if(catalog.brand)params.brand=catalog.brand;if(catalog.page>1)params.page=catalog.page;navigate({pathname:'/',search:'?'+createSearchParams(params)});};return/*#__PURE__*/_jsx(ListGroup,{children:catalog.categories.map(function(item){return/*#__PURE__*/_jsx(ListGroup.Item,{active:item.id===catalog.category,onClick:function onClick(){return handleClick(item.id);},style:{cursor:'pointer'},children:item.name},item.id);})});});export default CategoryBar;","map":{"version":3,"sources":["/var/www/html/check/javascript-shop/client.v1/src/components/CategoryBar.js"],"names":["ListGroup","useContext","AppContext","observer","useNavigate","createSearchParams","CategoryBar","catalog","navigate","handleClick","id","category","params","brand","page","pathname","search","categories","map","item","cursor","name"],"mappings":"AAAA,OAASA,SAAT,KAA0B,iBAA1B,CACA,OAASC,UAAT,KAA2B,OAA3B,CACA,OAASC,UAAT,KAA2B,iBAA3B,CACA,OAASC,QAAT,KAAyB,iBAAzB,CACA,OAASC,WAAT,CAAsBC,kBAAtB,KAAgD,kBAAhD,C,2CAEA,GAAMC,CAAAA,WAAW,CAAGH,QAAQ,CAAC,UAAM,CAC/B,gBAAoBF,UAAU,CAACC,UAAD,CAA9B,CAAQK,OAAR,aAAQA,OAAR,CACA,GAAMC,CAAAA,QAAQ,CAAGJ,WAAW,EAA5B,CAEA,GAAMK,CAAAA,WAAW,CAAG,QAAdA,CAAAA,WAAc,CAACC,EAAD,CAAQ,CACxB,GAAIA,EAAE,GAAKH,OAAO,CAACI,QAAnB,CAA6B,CACzBJ,OAAO,CAACI,QAAR,CAAmB,IAAnB,CACH,CAFD,IAEO,CACHJ,OAAO,CAACI,QAAR,CAAmBD,EAAnB,CACH,CACD;AACA,GAAME,CAAAA,MAAM,CAAG,EAAf,CACA,GAAIL,OAAO,CAACI,QAAZ,CAAsBC,MAAM,CAACD,QAAP,CAAkBJ,OAAO,CAACI,QAA1B,CACtB,GAAIJ,OAAO,CAACM,KAAZ,CAAmBD,MAAM,CAACC,KAAP,CAAeN,OAAO,CAACM,KAAvB,CACnB,GAAIN,OAAO,CAACO,IAAR,CAAe,CAAnB,CAAsBF,MAAM,CAACE,IAAP,CAAcP,OAAO,CAACO,IAAtB,CACtBN,QAAQ,CAAC,CACLO,QAAQ,CAAE,GADL,CAELC,MAAM,CAAE,IAAMX,kBAAkB,CAACO,MAAD,CAF3B,CAAD,CAAR,CAIH,CAfD,CAiBA,mBACI,KAAC,SAAD,WACKL,OAAO,CAACU,UAAR,CAAmBC,GAAnB,CAAuB,SAAAC,IAAI,qBACxB,KAAC,SAAD,CAAW,IAAX,EAEI,MAAM,CAAEA,IAAI,CAACT,EAAL,GAAYH,OAAO,CAACI,QAFhC,CAGI,OAAO,CAAE,yBAAMF,CAAAA,WAAW,CAACU,IAAI,CAACT,EAAN,CAAjB,EAHb,CAII,KAAK,CAAE,CAACU,MAAM,CAAE,SAAT,CAJX,UAMKD,IAAI,CAACE,IANV,EACSF,IAAI,CAACT,EADd,CADwB,EAA3B,CADL,EADJ,CAcH,CAnC2B,CAA5B,CAqCA,cAAeJ,CAAAA,WAAf","sourcesContent":["import { ListGroup } from 'react-bootstrap'\nimport { useContext } from 'react'\nimport { AppContext } from './AppContext.js'\nimport { observer } from 'mobx-react-lite'\nimport { useNavigate, createSearchParams } from 'react-router-dom'\n\nconst CategoryBar = observer(() => {\n    const { catalog } = useContext(AppContext)\n    const navigate = useNavigate()\n\n    const handleClick = (id) => {\n        if (id === catalog.category) {\n            catalog.category = null\n        } else {\n            catalog.category = id\n        }\n        // при каждом клике добавляем в историю браузера новый элемент\n        const params = {}\n        if (catalog.category) params.category = catalog.category\n        if (catalog.brand) params.brand = catalog.brand\n        if (catalog.page > 1) params.page = catalog.page\n        navigate({\n            pathname: '/',\n            search: '?' + createSearchParams(params),\n        })\n    }\n\n    return (\n        <ListGroup>\n            {catalog.categories.map(item =>\n                <ListGroup.Item\n                    key={item.id}\n                    active={item.id === catalog.category}\n                    onClick={() => handleClick(item.id)}\n                    style={{cursor: 'pointer'}}\n                >\n                    {item.name}\n                </ListGroup.Item>\n            )}\n        </ListGroup>\n    )\n})\n\nexport default CategoryBar"]},"metadata":{},"sourceType":"module"}