{"ast":null,"code":"var _jsxFileName = \"/var/www/html/check/javascript-shop/client.v1/src/components/CategoryBar.js\",\n    _s = $RefreshSig$();\n\nimport { ListGroup } from 'react-bootstrap';\nimport { useContext } from 'react';\nimport { AppContext } from './AppContext.js';\nimport { observer } from 'mobx-react-lite';\nimport { useNavigate, createSearchParams } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst CategoryBar = _s(observer(_c = _s(() => {\n  _s();\n\n  const {\n    catalog\n  } = useContext(AppContext);\n  const navigate = useNavigate();\n\n  const handleClick = id => {\n    if (id === catalog.category) {\n      catalog.category = null;\n    } else {\n      catalog.category = id;\n    } // при каждом клике добавляем в историю браузера новый элемент\n\n\n    const params = {};\n    if (catalog.category) params.category = catalog.category;\n    if (catalog.brand) params.brand = catalog.brand;\n    if (catalog.page > 1) params.page = catalog.page;\n    navigate({\n      pathname: '/',\n      search: '?' + createSearchParams(params)\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(ListGroup, {\n    children: catalog.categories.map(item => /*#__PURE__*/_jsxDEV(ListGroup.Item, {\n      active: item.id === catalog.category,\n      onClick: () => handleClick(item.id),\n      style: {\n        cursor: 'pointer'\n      },\n      children: item.name\n    }, item.id, false, {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 17\n    }, this))\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 29,\n    columnNumber: 9\n  }, this);\n}, \"mQZ6rtUdWWURRNnxHA/V9qGEO+c=\", false, function () {\n  return [useNavigate];\n})), \"mQZ6rtUdWWURRNnxHA/V9qGEO+c=\", false, function () {\n  return [useNavigate];\n});\n\n_c2 = CategoryBar;\nexport default CategoryBar;\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"CategoryBar$observer\");\n$RefreshReg$(_c2, \"CategoryBar\");","map":{"version":3,"sources":["/var/www/html/check/javascript-shop/client.v1/src/components/CategoryBar.js"],"names":["ListGroup","useContext","AppContext","observer","useNavigate","createSearchParams","CategoryBar","catalog","navigate","handleClick","id","category","params","brand","page","pathname","search","categories","map","item","cursor","name"],"mappings":";;;AAAA,SAASA,SAAT,QAA0B,iBAA1B;AACA,SAASC,UAAT,QAA2B,OAA3B;AACA,SAASC,UAAT,QAA2B,iBAA3B;AACA,SAASC,QAAT,QAAyB,iBAAzB;AACA,SAASC,WAAT,EAAsBC,kBAAtB,QAAgD,kBAAhD;;;AAEA,MAAMC,WAAW,MAAGH,QAAQ,SAAC,MAAM;AAAA;;AAC/B,QAAM;AAAEI,IAAAA;AAAF,MAAcN,UAAU,CAACC,UAAD,CAA9B;AACA,QAAMM,QAAQ,GAAGJ,WAAW,EAA5B;;AAEA,QAAMK,WAAW,GAAIC,EAAD,IAAQ;AACxB,QAAIA,EAAE,KAAKH,OAAO,CAACI,QAAnB,EAA6B;AACzBJ,MAAAA,OAAO,CAACI,QAAR,GAAmB,IAAnB;AACH,KAFD,MAEO;AACHJ,MAAAA,OAAO,CAACI,QAAR,GAAmBD,EAAnB;AACH,KALuB,CAMxB;;;AACA,UAAME,MAAM,GAAG,EAAf;AACA,QAAIL,OAAO,CAACI,QAAZ,EAAsBC,MAAM,CAACD,QAAP,GAAkBJ,OAAO,CAACI,QAA1B;AACtB,QAAIJ,OAAO,CAACM,KAAZ,EAAmBD,MAAM,CAACC,KAAP,GAAeN,OAAO,CAACM,KAAvB;AACnB,QAAIN,OAAO,CAACO,IAAR,GAAe,CAAnB,EAAsBF,MAAM,CAACE,IAAP,GAAcP,OAAO,CAACO,IAAtB;AACtBN,IAAAA,QAAQ,CAAC;AACLO,MAAAA,QAAQ,EAAE,GADL;AAELC,MAAAA,MAAM,EAAE,MAAMX,kBAAkB,CAACO,MAAD;AAF3B,KAAD,CAAR;AAIH,GAfD;;AAiBA,sBACI,QAAC,SAAD;AAAA,cACKL,OAAO,CAACU,UAAR,CAAmBC,GAAnB,CAAuBC,IAAI,iBACxB,QAAC,SAAD,CAAW,IAAX;AAEI,MAAA,MAAM,EAAEA,IAAI,CAACT,EAAL,KAAYH,OAAO,CAACI,QAFhC;AAGI,MAAA,OAAO,EAAE,MAAMF,WAAW,CAACU,IAAI,CAACT,EAAN,CAH9B;AAII,MAAA,KAAK,EAAE;AAACU,QAAAA,MAAM,EAAE;AAAT,OAJX;AAAA,gBAMKD,IAAI,CAACE;AANV,OACSF,IAAI,CAACT,EADd;AAAA;AAAA;AAAA;AAAA,YADH;AADL;AAAA;AAAA;AAAA;AAAA,UADJ;AAcH,CAnC2B;AAAA,UAEPN,WAFO;AAAA,GAAX;AAAA,UAEIA,WAFJ;AAAA,EAAjB;;MAAME,W;AAqCN,eAAeA,WAAf","sourcesContent":["import { ListGroup } from 'react-bootstrap'\nimport { useContext } from 'react'\nimport { AppContext } from './AppContext.js'\nimport { observer } from 'mobx-react-lite'\nimport { useNavigate, createSearchParams } from 'react-router-dom'\n\nconst CategoryBar = observer(() => {\n    const { catalog } = useContext(AppContext)\n    const navigate = useNavigate()\n\n    const handleClick = (id) => {\n        if (id === catalog.category) {\n            catalog.category = null\n        } else {\n            catalog.category = id\n        }\n        // при каждом клике добавляем в историю браузера новый элемент\n        const params = {}\n        if (catalog.category) params.category = catalog.category\n        if (catalog.brand) params.brand = catalog.brand\n        if (catalog.page > 1) params.page = catalog.page\n        navigate({\n            pathname: '/',\n            search: '?' + createSearchParams(params),\n        })\n    }\n\n    return (\n        <ListGroup>\n            {catalog.categories.map(item =>\n                <ListGroup.Item\n                    key={item.id}\n                    active={item.id === catalog.category}\n                    onClick={() => handleClick(item.id)}\n                    style={{cursor: 'pointer'}}\n                >\n                    {item.name}\n                </ListGroup.Item>\n            )}\n        </ListGroup>\n    )\n})\n\nexport default CategoryBar"]},"metadata":{},"sourceType":"module"}