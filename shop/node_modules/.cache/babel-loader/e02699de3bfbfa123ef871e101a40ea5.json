{"ast":null,"code":"import _slicedToArray from\"/var/www/html/check/javascript-shop/client.v1/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{AppContext}from'./AppContext.js';import{fetchBasket}from'../http/basketAPI.js';import{useContext,useEffect,useState}from'react';import{Spinner}from'react-bootstrap';import{jsx as _jsx}from\"react/jsx-runtime\";var FetchBasket=function FetchBasket(props){var _useContext=useContext(AppContext),basket=_useContext.basket;var _useState=useState(true),_useState2=_slicedToArray(_useState,2),fetching=_useState2[0],setFetching=_useState2[1];useEffect(function(){fetchBasket().then(function(data){return basket.products=data.products;}).finally(function(){return setFetching(false);});},[]);if(fetching){return/*#__PURE__*/_jsx(Spinner,{animation:\"border\",variant:\"light\"});}return props.children;};export default FetchBasket;","map":{"version":3,"sources":["/var/www/html/check/javascript-shop/client.v1/src/components/FetchBasket.js"],"names":["AppContext","fetchBasket","useContext","useEffect","useState","Spinner","FetchBasket","props","basket","fetching","setFetching","then","data","products","finally","children"],"mappings":"mIAAA,OAASA,UAAT,KAA2B,iBAA3B,CACA,OAASC,WAAT,KAA4B,sBAA5B,CACA,OAASC,UAAT,CAAqBC,SAArB,CAAgCC,QAAhC,KAAgD,OAAhD,CACA,OAASC,OAAT,KAAwB,iBAAxB,C,2CAEA,GAAMC,CAAAA,WAAW,CAAG,QAAdA,CAAAA,WAAc,CAACC,KAAD,CAAW,CAC3B,gBAAmBL,UAAU,CAACF,UAAD,CAA7B,CAAQQ,MAAR,aAAQA,MAAR,CACA,cAAgCJ,QAAQ,CAAC,IAAD,CAAxC,wCAAOK,QAAP,eAAiBC,WAAjB,eAEAP,SAAS,CAAC,UAAM,CACZF,WAAW,GACNU,IADL,CAEQ,SAAAC,IAAI,QAAIJ,CAAAA,MAAM,CAACK,QAAP,CAAkBD,IAAI,CAACC,QAA3B,EAFZ,EAIKC,OAJL,CAKQ,iBAAMJ,CAAAA,WAAW,CAAC,KAAD,CAAjB,EALR,EAOH,CARQ,CAQN,EARM,CAAT,CAUA,GAAID,QAAJ,CAAc,CACV,mBAAO,KAAC,OAAD,EAAS,SAAS,CAAC,QAAnB,CAA4B,OAAO,CAAC,OAApC,EAAP,CACH,CAED,MAAOF,CAAAA,KAAK,CAACQ,QAAb,CACH,CAnBD,CAqBA,cAAeT,CAAAA,WAAf","sourcesContent":["import { AppContext } from './AppContext.js'\nimport { fetchBasket } from '../http/basketAPI.js'\nimport { useContext, useEffect, useState } from 'react'\nimport { Spinner } from 'react-bootstrap'\n\nconst FetchBasket = (props) => {\n    const { basket } = useContext(AppContext)\n    const [fetching, setFetching] = useState(true)\n\n    useEffect(() => {\n        fetchBasket()\n            .then(\n                data => basket.products = data.products\n            )\n            .finally(\n                () => setFetching(false)\n            )\n    }, [])\n\n    if (fetching) {\n        return <Spinner animation=\"border\" variant=\"light\" />\n    }\n\n    return props.children\n}\n\nexport default FetchBasket"]},"metadata":{},"sourceType":"module"}